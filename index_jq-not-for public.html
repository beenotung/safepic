<html>
	<head>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
		
	</head>
<body>
	<label>Image File:</label><br/>
	<input type="file" id="imageLoader" name="imageLoader"/>
	<canvas id="imageCanvas"></canvas>
	<a id="link" href="#"></a>
</body>
	<script>
			var canvas, ctx, fType, fName, fExt;
			$(document).ready(function(){
				$('#imageLoader').on('change', function handleImage(e){
					console.log(e.target.files[0]);
					fName = e.target.files[0].name;
					fExt = fName.split('.').pop();
					fName = fName.replace('.'+fExt, "_clean."+fExt);
					fType = e.target.files[0].type;
					var reader = new FileReader();
					reader.onload = function(event){
						var img = new Image();
						img.onload = function(){
							canvas.width = img.width;
							canvas.height = img.height;
							ctx.drawImage(img,0,0);
							var link = document.getElementById('link');
							link.setAttribute('download', fName);
							link.setAttribute('href', canvas.toDataURL(fType));
							link.click();
						}
						img.src = event.target.result;
					}
					reader.readAsDataURL(e.target.files[0]);     
				});
				canvas = $('#imageCanvas')[0];
				ctx = canvas.getContext('2d');
			});
		</script>
</html>